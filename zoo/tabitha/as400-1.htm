<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 6.5.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK rel="stylesheet" href="../../jjprum.css" type="text/css">
<TITLE>AS/400ファンの方向けのページ その１</TITLE>
</HEAD>
<BODY>
<H2>AS/400ファンの方向けのページ・その１</H2>
<HR>
<P>さて、処理が止まった時のメッセージはどのようなものが出ていたかというと、CPA4088です。</P>
<CENTER>
<TABLE border="1">
  <TBODY>
    <TR>
      <TD width="578">メッセージ ID . . . . : CPA4088 重大度 .
      . . . . . . . : ?? <BR>
      メッセージ・タイプ . . : 照会 送信日 . .
      . . . . . : MM/DD/YY 送信時刻 . . . . . .
      : HH:MM:SS <BR>
      <BR>
      メッセージ. . . . . : (C G) 装置 TAP01 に次のテープ・ボリュームを装填してください。<BR>
      <BR>
      原因−−テープ・ボリュームの終りに達しました。
      回復手順−−Ｃを入力して処理を取り消すか，あるいは装置
      &amp;4 に次のテープ・ボリ ュームを取り付け，Ｇを入力して処理を続行してください。
      <BR>
      <BR>
      メッセージに応答するための選択可能な項目：
      G -- 処理の続行。 C -- 処理の取消し。</TD>
    </TR>
  </TBODY>
</TABLE>
</CENTER>
<P>バックアップのコマンド ( SAVLIB ) 自体は
CL プログラム上に記述されており、CPA4088
はちゃんと MONMSG されています。さて、 MONMSG
のヘルプを見ると、ちょっと気になる事が書いてありました。</P>
<CENTER>
<TABLE border="1" width="589">
  <TBODY>
    <TR>
      <TD>メッセージ監視 (MONMSG) コマンドは，このコマンドの使用されているプログラムのプログラム・メッセージ待ち行列に送られるエスケープ・メッセージ，通知メッセージ，および状況メッセージを監視するために使用します。完了メッセージおよび診断メッセージについては監視は行なわれません。</TD>
    </TR>
  </TBODY>
</TABLE>
</CENTER>
<P>あれ？照会メッセージは？ MONMSG のヘルプには、照会メッセージを監視するとも監視しないとも書いてありません。ヘルプで言及していないのなら、どのように動くのかわからないわけだから、照会メッセージを監視するために
MONMSG を使うべきではないのでしょう。</P>
<P>実際、ログを見ていると、以前はちゃんと照会メッセージ CPA4088 をちゃんと監視して処理の取り消しを自動的に行っていました。ところが何かのはずみで監視をサボりだしたようです。</P>
<P>で、私は学習しました。マニュアルやヘルプの類にこういう事をする、と明記していない機能を、思い込みでうっかり使っちゃいかんな、という事を。それは確かにそうなんですが、私は納得に到るまでの数日間、
MONMSG に八つ当たりしました。</P>
<HR>
<P><A href="index.html"><IMG src="../../back.gif" width="125" height="30" border="0" alt="back"></A></P>
</BODY>
</HTML>
